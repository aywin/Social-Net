{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recherche d'utilisateurs</title>
    <link rel="stylesheet" href="{% static 'network/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
</head>
<body>
    <header>
        {% if not user.is_authenticated %}
        <div class="home-logo-container">
            <img src="{% static 'network/Images/home-logo.jpg' %}" alt="Logo" class="home-logo">
            
        </div>
        {% endif %}

        {% if user.is_authenticated %}
        <div class="logo-container">
            <img src="{% static 'network/Images/B.png' %}" alt="Logo" class="logo">
        </div>
        
        <ul class="nav-head">
            <div class="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="menu">
                <li><a href="{% url 'mentoring' %}"><i class="fas fa-chalkboard-teacher"></i> Mentorat</a></li>
                <li><a href="{% url 'overview' %}"><i class="fas fa-user"></i>overview</a></li>
                <li><a href="{% url 'users_list' %}"><i class="fas fa-users"></i>Users</a></li>
                <li><a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i> logout</a></li>
                <li><a href="{% url 'indexx' %}"><i class="fas fa-home"></i> Home</a></li>
            </ul>
            <li class="nav-item search-container">
                <form method="GET" action="{% url 'search' %}" class="search-form">
                    <div class="search-div">
                        <input type="text" name="q" id="search-input" placeholder="Rechercher des utilisateurs..." aria-label="Recherche des utilisateurs" class="search-input">
                        <button type="submit" class="search-icon"><i class="fas fa-search"></i></button>
                    </div>
                </form>
            </li>
            {% endif %}
    
            {% if user.is_authenticated %}
            <!-- Profil de l'utilisateur -->
            <li class="nav-profile">
                <a href="{% url 'profile_view' %}" class="nav-link">
                    <div class="profile-info">
                        {% if user.profile_pic %}
                            <img src="{{ user.profile_pic.url }}" alt="{{ user.username }}" class="profile-pic">
                        {% else %}
                            <div class="profile-icon">üë§</div>
                        {% endif %}
                        <span class="username">{{ user.username }}</span>
                    </div>
                </a>
            </li>
            {% endif %}
        </ul>
    </header>
    
    <div class="container">
    
        <main class="main-content" id="main-content">
            <hr>
            {% if not user.is_authenticated %}

            <div class="hme-welcome-container">
                <div class="hme-image-slider">
                    <img src="{% static 'network/Images/ecc5.jpg' %}" alt="Image 1">
                    <img src="{% static 'network/Images/groupeplbd.jpg' %}" alt="Image 2">
                    <img src="{% static 'network/Images/ecc1.jpg' %}" alt="Image 3">
                    <img src="{% static 'network/Images/ecc2.png' %}" alt="Image 4">
                    <img src="{% static 'network/Images/ecc3.jpg' %}" alt="Image 5">
                    <img src="{% static 'network/Images/ecc4.png' %}" alt="Image 6">
                    <!-- <img src="path/to/image1.jpg" alt="Image 1">
                    <img src="path/to/image2.jpg" alt="Image 2">
                    <img src="path/to/image3.jpg" alt="Image 3">
                    <img src="path/to/image4.jpg" alt="Image 4">
                    <img src="path/to/image5.jpg" alt="Image 5">
                    <img src="path/to/image6.jpg" alt="Image 6"> -->
                </div>
                
                <div class="hme-center-block">
                    <h2>Bienvenue sur notre plateforme</h2>
                    <p>Connectez-vous pour acc√©der √† toutes les fonctionnalit√©s.</p>
                    <a href="{% url 'login' %}" class="hme-btn-login">Se connecter</a>
                </div>
            </div>
        {% else %}
        
        
            <div id="blog-content">
                
            
                <section class="blog-section">
                    <div class="form-div">
                    <h3>Param√®tres de Recherche</h3>
                    <form id="param-search-form" method="GET" action="{% url 'search_profiles' %}">
                        
                        <h4>Poste</h4>
                        <div class="poste-filters-container">
                            <div class="poste-filter">
                                <label for="poste_domaine">Domaine</label>
                                <select id="poste_domaine" name="poste_domaine">
                                    <option value="">Tous</option>
                                    <option value="Automatisation industrielle">Automatisation industrielle</option>
                                    <option value="√ânergie renouvelable">√ânergie renouvelable</option>
                                    <option value="Analyse de donn√©es">Analyse de donn√©es</option>
                                    <option value="Technologie de l'information">Technologie de l'information</option>
                                    <option value="Conseil en gestion">Conseil en gestion</option>
                                    <option value="S√©curit√© informatique">S√©curit√© informatique</option>
                                    <option value="Recherche et d√©veloppement">Recherche et d√©veloppement</option>
                                    <option value="Logistique et distribution">Logistique et distribution</option>
                                    <option value="A√©rospatiale">A√©rospatiale</option>
                                    <option value="Industrie manufacturi√®re">Industrie manufacturi√®re</option>
                                    <option value="Technologie financi√®re">Technologie financi√®re</option>
                                </select>
                            </div>
                        
                            <div class="poste-filter">
                                <label for="poste_occupe">Poste Occup√©</label>
                                <select id="poste_occupe" name="poste_occupe">
                                    <option value="">Tous</option>
                                    <option value="Ing√©nieur en Robotique">Ing√©nieur en Robotique</option>
                                    <option value="Chef de Projet √âolien">Chef de Projet √âolien</option>
                                    <option value="Data Scientist">Data Scientist</option>
                                    <option value="Ing√©nieur en Intelligence Artificielle">Ing√©nieur en Intelligence Artificielle</option>
                                    <option value="Consultant en Strat√©gie">Consultant en Strat√©gie</option>
                                    <option value="Responsable de la S√©curit√© des Syst√®mes d'Information (CISO)">Responsable de la S√©curit√© des Syst√®mes d'Information (CISO)</option>
                                    <option value="Ing√©nieur en Nanotechnologie">Ing√©nieur en Nanotechnologie</option>
                                    <option value="Responsable de la Cha√Æne Logistique">Responsable de la Cha√Æne Logistique</option>
                                    <option value="Ing√©nieur Calcul en A√©rospatial">Ing√©nieur Calcul en A√©rospatial</option>
                                    <option value="Directeur de la Production">Directeur de la Production</option>
                                    <option value="Architecte Logiciel">Architecte Logiciel</option>
                                    <option value="Responsable de la Maintenance Industrielle">Responsable de la Maintenance Industrielle</option>
                                    <option value="Ing√©nieur en √ânergie Solaire">Ing√©nieur en √ânergie Solaire</option>
                                    <option value="Ing√©nieur en Biotechnologie">Ing√©nieur en Biotechnologie</option>
                                    <option value="Expert en FinTech">Expert en FinTech</option>
                                </select>
                            </div>
                        
                            <div class="poste-filter">
                                <label for="poste_entreprise">Entreprise</label>
                                <select id="poste_entreprise" name="poste_entreprise">
                                    <option value="">Tous</option>
                                    <option value="ABB">ABB</option>
                                    <option value="EDF Renouvelables">EDF Renouvelables</option>
                                    <option value="BNP Paribas">BNP Paribas</option>
                                    <option value="Google">Google</option>
                                    <option value="McKinsey & Company">McKinsey & Company</option>
                                    <option value="Airbus">Airbus</option>
                                    <option value="IBM Research">IBM Research</option>
                                    <option value="Amazon">Amazon</option>
                                    <option value="Safran">Safran</option>
                                    <option value="L'Or√©al">L'Or√©al</option>
                                    <option value="Microsoft">Microsoft</option>
                                    <option value="Renault">Renault</option>
                                    <option value="TotalEnergies">TotalEnergies</option>
                                    <option value="Sanofi">Sanofi</option>
                                    <option value="Revolut">Revolut</option>
                                </select>
                            </div>
                        </div>
                        
                
                        <h4>Stage</h4>
                        <div class="stage-filters-container">
                            <div class="stage-filter">
                                <label for="stage_type">Type de Stage</label>
                                <select id="stage_type" name="stage_type">
                                    <option value="">Tous</option>
                                    <option value="PFE">PFE</option>
                                    <option value="Cesure">C√©sure</option>
                                    <option value="Academique">Acad√©mique</option>
                                    <option value="Operateur">Op√©rateur</option>
                                </select>
                            </div>
                        
                            <div class="stage-filter">
                                <label for="stage_domaine">Domaine</label>
                                <select id="stage_domaine" name="stage_domaine">
                                    <option value="">Tous</option>
                                    <option value="Automatisation industrielle">Automatisation industrielle</option>
                                    <option value="√ânergie renouvelable">√ânergie renouvelable</option>
                                    <option value="Analyse de donn√©es">Analyse de donn√©es</option>
                                    <option value="Technologie de l'information">Technologie de l'information</option>
                                    <option value="Conseil en gestion">Conseil en gestion</option>
                                    <option value="S√©curit√© informatique">S√©curit√© informatique</option>
                                    <option value="Recherche et d√©veloppement">Recherche et d√©veloppement</option>
                                    <option value="Logistique et distribution">Logistique et distribution</option>
                                    <option value="A√©rospatiale">A√©rospatiale</option>
                                    <option value="Industrie manufacturi√®re">Industrie manufacturi√®re</option>
                                    <option value="Technologie financi√®re">Technologie financi√®re</option>
                                </select>
                            </div>
                        
                            <div class="stage-filter">
                                <label for="stage_entreprise">Entreprise</label>
                                <select id="stage_entreprise" name="stage_entreprise">
                                    <option value="">Tous</option>
                                    <option value="ABB">ABB</option>
                                    <option value="EDF Renouvelables">EDF Renouvelables</option>
                                    <option value="BNP Paribas">BNP Paribas</option>
                                    <option value="Google">Google</option>
                                    <option value="McKinsey & Company">McKinsey & Company</option>
                                    <option value="Airbus">Airbus</option>
                                    <option value="IBM Research">IBM Research</option>
                                    <option value="Amazon">Amazon</option>
                                    <option value="Safran">Safran</option>
                                    <option value="L'Or√©al">L'Or√©al</option>
                                    <option value="Microsoft">Microsoft</option>
                                    <option value="Renault">Renault</option>
                                    <option value="TotalEnergies">TotalEnergies</option>
                                    <option value="Sanofi">Sanofi</option>
                                    <option value="Revolut">Revolut</option>
                                </select>
                            </div>
                        </div>
                        
                        <h4>Mobilit√©</h4>
                        <div class="mobilite-filters-container">
                            <div class="mobilite-filter">
                                <label for="mobilite_ecole">√âcole </label>
                                <select id="mobilite_ecole" name="mobilite_ecole">
                                    <option value="">Tous</option>
                                    <option value="√âcole Centrale Supelec">√âcole Centrale Supelec</option>
                                    <option value="√âcole Centrale Lyon">√âcole Centrale Lyon</option>
                                    <option value="√âcole Centrale Nantes">√âcole Centrale Nantes</option>
                                    <option value="√âcole Centrale Lille">√âcole Centrale Lille</option>
                                    <option value="√âcole Centrale Marseille">√âcole Centrale Marseille</option>
                                </select>
                            </div>
                        
                            <div class="mobilite-filter">
                                <label for="mobilite_filiere">Fili√®re</label>
                                <select id="mobilite_filiere" name="mobilite_filiere">
                                    <option value="">Tous</option>
                                    <option value="Ing√©nierie M√©canique et √ânerg√©tique">Ing√©nierie M√©canique et √ânerg√©tique</option>
                                    <option value="G√©nie √âlectrique et √âlectronique">G√©nie √âlectrique et √âlectronique</option>
                                    <option value="G√©nie Civil et Environnement">G√©nie Civil et Environnement</option>
                                    <option value="Ing√©nierie des Mat√©riaux">Ing√©nierie des Mat√©riaux</option>
                                    <option value="Informatique et Syst√®mes d'Information">Informatique et Syst√®mes d'Information</option>
                                    <option value="A√©rospatial et M√©canique des Fluides">A√©rospatial et M√©canique des Fluides</option>
                                    <option value="Biotechnologies et Sant√©">Biotechnologies et Sant√©</option>
                                    <option value="√ânergies Renouvelables">√ânergies Renouvelables</option>
                                    <option value="Management et Innovation Technologique">Management et Innovation Technologique</option>
                                    <option value="Ing√©nierie Financi√®re et Actuariat">Ing√©nierie Financi√®re et Actuariat</option>
                                </select>
                            </div>
                        </div>
                        


                        <h4>√âlectifs</h4>
                        <div class="electif-filters-container">
                            <div class="electif-filter">
                                <label for="concevoir_rechercher">Concevoir-Rechercher</label>
                                <select id="concevoir_rechercher" name="concevoir_rechercher">
                                    <option value="">Tous</option>
                                    <option value="Applications de la physique statistique aux SHS">Applications de la physique statistique aux SHS</option>
                                    <option value="Introduction √† la cyber S√©curit√©">Introduction √† la cyber S√©curit√©</option>
                                    <option value="Physique th√©orique">Physique th√©orique</option>
                                    <option value="Gestion des risques">Gestion des risques</option>
                                    <option value="Traitement d'images et multim√©dias">Traitement d'images et multim√©dias</option>
                                    <option value="Processus Stochastiques">Processus Stochastiques</option>
                                </select>
                            </div>
                        
                            <div class="electif-filter">
                                <label for="developper_innover">D√©velopper-Innover</label>
                                <select id="developper_innover" name="developper_innover">
                                    <option value="">Tous</option>
                                    <option value="Logiciel industriel ABAQUS">Logiciel industriel ABAQUS</option>
                                    <option value="Durabilit√© environnementale et justice sociale">Durabilit√© environnementale et justice sociale</option>
                                    <option value="R√©seaux Telecoms">R√©seaux Telecoms</option>
                                    <option value="La ville de demain : initiation √† une d√©marche responsable et durable">La ville de demain : initiation √† une d√©marche responsable et durable</option>
                                    <option value="Nouvelles technologies pour la mobilit√© terrestre">Nouvelles technologies pour la mobilit√© terrestre</option>
                                    <option value="Facteurs Humains">Facteurs Humains</option>
                                </select>
                            </div>
                        
                            <div class="electif-filter">
                                <label for="produire_promouvoir_vendre">Produire-Promouvoir-Vendre</label>
                                <select id="produire_promouvoir_vendre" name="produire_promouvoir_vendre">
                                    <option value="">Tous</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="Fondamentaux de la Finance du March√©">Fondamentaux de la Finance du March√©</option>
                                    <option value="Finance d'entreprise">Finance d'entreprise</option>
                                    <option value="Strat√©gie d'entreprise">Strat√©gie d'entreprise</option>
                                    <option value="Entreprenariat social et d√©fis socio-√©conomiques en Afrique : strat√©gies pour un d√©veloppement durable">Entreprenariat social et d√©fis socio-√©conomiques en Afrique : strat√©gies pour un d√©veloppement durable</option>
                                    <option value="Introduction √† l'analyse politique du monde contemporain">Introduction √† l'analyse politique du monde contemporain</option>
                                </select>
                            </div>
                        </div>
                        
                        
                 
                        
                        <div class="filters-container">
                            <div class="filter-group">
                                <h4>Options</h4>
                                <div>
                                    <select id="option" name="option">
                                        <option value="">Tous</option>
                                        <option value="G√©nie Industriel">G√©nie Industriel</option>
                                        <option value="Data Science et Digitalisation">Data Science et Digitalisation</option>
                                        <option value="√ânergie">√ânergie</option>
                                    </select>
                                </div>
                            </div>
                        
                            <div class="filter-group">
                                <h4>Fili√®res</h4>
                                <div>
                                    <select id="filiere" name="filiere">
                                        <option value="">Tous</option>
                                        <option value="Industrie 4.0">Industrie 4.0</option>
                                        <option value="Ing√©nierie des Syst√®mes Complexes">Ing√©nierie des Syst√®mes Complexes</option>
                                        <option value="Entreprendre en Afrique">Entreprendre en Afrique</option>
                                    </select>
                                </div>
                            </div>
                        
                            <div class="filter-group">
                                <h4>Groupe d'Utilisateur</h4>
                                <div>
                                    <select id="user_group" name="user_group">
                                        <option value="">Tous</option>
                                        <option value="alumni">Alumni</option>
                                        <option value="eleve">√âl√®ve</option>
                                    </select>
                                </div>
                            </div>
                        
                            <div class="filter-group">
                                <h4>Nationalit√©</h4>
                                <div>
                                    <select id="nationality" name="nationality">
                                        <option value="">Tous</option>
                                        <option value="Fran√ßais">Fran√ßais</option>
                                        <option value="Marocain">Marocain</option>
                                        <option value="Chinois">Chinois</option>
                                        <option value="Ivoirien">Ivoirien</option>
                                        <option value="Burkinab√©">Burkinab√©</option>
                                    </select>
                                </div>
                            </div>
                        
                            <div class="filter-group">
                                <h4>Majeurs</h4>
                                <div>
                                    
                                    <select id="major" name="major">
                                        <option value="">Tous</option>
                                        <option value="Aide √† la D√©cision">Aide √† la D√©cision</option>
                                        <option value="√ânergie">√ânergie</option>
                                        <option value="Mat√©riau">Mat√©riau</option>
                                        <option value="Industrie">Industrie</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                
                        <button type="submit">Rechercher</button>
                    </form>
                </div>
                </section>
                
            <h2>√Ä propos de l'√âcole Centrale Casablanca</h2>
                <section class="blog-section">
                    <h3>Pr√©sentation</h3>
                    <p>
                        L'√âcole Centrale Casablanca est un √©tablissement prestigieux d'enseignement sup√©rieur situ√© √† Casablanca.
                        Elle offre des programmes de formation d'ing√©nieurs de haut niveau, visant √† former des cadres dirigeants
                        pour les entreprises et l'industrie.
                    </p>
                </section>
                <section class="blog-section">
                    <h3>Environnement de Formation</h3>
                    <p>
                        Les √©tudiants de l'√âcole Centrale Casablanca b√©n√©ficient d'un environnement de formation de qualit√©,
                        combinant √† la fois des enseignements th√©oriques et pratiques, ainsi que des opportunit√©s de recherche
                        et d'innovation.
                    </p>
                </section>
                <section class="blog-section statistics">
                    <h3>Quelques Chiffres</h3>
                    <ul class="statistics-list">
                        <li>500+ √âtudiants</li>
                        <li>30+ Partenariats Industriels</li>
                        <li>20+ Programmes d'√âchange</li>
                        <li>95% Taux d'Emploi des Dipl√¥m√©s</li>
                    </ul>
                </section>
                <section class="blog-section">
                    <h3>Opportunit√©s</h3>
                    <p>
                        Nous vous invitons √† explorer les nombreuses opportunit√©s qu'offre notre institution, que ce soit √†
                        travers des stages, des projets de recherche ou des collaborations avec l'industrie.
                    </p>
                </section>
                
            </div>
            
            {% endif %}
            
            <div id="dynamic-content">
                {% block content %}
                {% endblock %}
                {% block profil %}
                {% endblock %}
                
            </div>
        </main>
    </div>
    

    <footer>
        <!-- Contenu du footer -->
        <p>&copy; 2024  ECC-Connect. Tous droits r√©serv√©s.</p>
    </footer>

    <script>
        async function sendMessage() {
            const userInput = document.getElementById('userInput').value;
            if (!userInput) return;
        
            // Afficher le message de l'utilisateur
            const chatbox = document.getElementById('chatbox');
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.textContent = userInput;
            chatbox.appendChild(userMessage);
            document.getElementById('userInput').value = '';
        
            // Envoyer le message √† l'API
            const response = await fetch('/chat/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCookie('csrftoken')
                },
                body: JSON.stringify({ message: userInput })
            });
            const data = await response.json();
        
            // Afficher la r√©ponse du chatbot
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.textContent = data.response;
            chatbox.appendChild(botMessage);
        
            // Faire d√©filer vers le bas du chatbox
            chatbox.scrollTop = chatbox.scrollHeight;
        }
        
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        
        
        document.addEventListener('DOMContentLoaded', function() {
            var sidebarLeft = document.getElementById('sidebar-left');
            var blogContent = document.getElementById('blog-content');
            var dynamicContent = document.getElementById('dynamic-content');
            var blogVisible = true;

            function hideBlog() {
                blogContent.style.display = 'none';
                blogVisible = false;
            }

            function showBlog() {
                blogContent.style.display = 'block';
                blogVisible = true;
            }

            function checkAndHideBlog() {
                if (dynamicContent.innerHTML.trim() && blogVisible) {
                    hideBlog();
                }
            }

            function loadUserProfile(username) {
                fetch(`/ajax/profile/${username}/`)
                    .then(response => response.json())
                    .then(data => {
                        if (data.error) {
                            dynamicContent.innerHTML = `<p>${data.error}</p>`;
                        } else {
                            dynamicContent.innerHTML = data.html;
                        }
                        checkAndHideBlog(); // V√©rifier et masquer le blog apr√®s le chargement du profil
                    })
                    .catch(error => console.error('Error loading profile:', error));
            }

            document.addEventListener('click', function(event) {
                var link = event.target.closest('.profile-link');
                if (link) {
                    event.preventDefault();
                    var username = link.dataset.username;
                    loadUserProfile(username);
                }
            });

            // Masquer le blog au chargement si du contenu est pr√©sent
            checkAndHideBlog();
        });


        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.querySelector('#search-input');
            const searchForm = document.querySelector('.search-form');
    
            searchInput.addEventListener('input', function () {
                if (searchInput.value.length >= 3) {
                    fetchResults(searchInput.value);
                } else {
                    clearResults();
                }
            });
    
            function fetchResults(query) {
                fetch(`/search?q=${query}`, {
                    headers: {
                        'x-requested-with': 'XMLHttpRequest'
                    }
                })
                .then(response => response.json())
                .then(data => {
                    displayResults(data.results);
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
    
            function displayResults(results) {
                const searchResults = document.getElementById('search-results');
                searchResults.innerHTML = results.map(user => `
                    <a href="/full_profile/${user.username}" class="search-result-box">
                        <div class="search-result-pic-container">
                            ${user.profile_pic ? `<img src="${user.profile_pic}" alt="${user.username}" class="search-result-pic">` : '<div class="search-result-icon">üë§</div>'}
                        </div>
                        <div class="search-result-info">
                            <div class="header">
                                <span class="search-result-username">${user.username}</span>
                                <span class="search-result-group">${user.user_group}</span>
                            </div>
                            <div class="search-result-nationality">${user.nationality}</div>
                            <div class="search-result-name">${user.first_name} ${user.last_name}</div>
                            <div class="search-result-promotion">${user.promotion}</div>
                            <div class="search-result-post">
                                ${user.latest_post ? `${user.latest_post.domaine} - ${user.latest_post.entreprise}` : ''}
                            </div>
                            <div class="search-result-bio">${user.bio}</div>
                        </div>
                    </a>
                `).join('');
            }
    
            function clearResults() {
                document.getElementById('search-results').innerHTML = '';
            }
        });
        document.addEventListener('DOMContentLoaded', function () {
            const menuToggle = document.querySelector('.menu-toggle');
            const menu = document.querySelector('.menu');
            
            menuToggle.addEventListener('click', function () {
                menu.classList.toggle('active');
            });
        });

document.addEventListener('DOMContentLoaded', () => {
    const selects = document.querySelectorAll('.form-div select');

    selects.forEach(select => {
        select.addEventListener('change', (event) => {
            const selectedOption = event.target.options[event.target.selectedIndex];
            selectedOption.style.backgroundColor = '#e9ecef';
            setTimeout(() => {
                selectedOption.style.backgroundColor = '';
            }, 300);
        });
    });
});


function openTab(evt, tabName) {
    var i, tabcontent, tabbuttons;

    // R√©cup√©rer tous les √©l√©ments avec la classe "tab-content" et les cacher
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // R√©cup√©rer tous les √©l√©ments avec la classe "tab-button" et enlever la classe "active"
    tabbuttons = document.getElementsByClassName("tab-button");
    for (i = 0; i < tabbuttons.length; i++) {
        tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
    }

    // Montrer l'onglet actuel et ajouter une classe "active" au bouton qui a √©t√© cliqu√©
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Afficher par d√©faut le premier onglet
document.addEventListener("DOMContentLoaded", function() {
    document.querySelector(".tab-button").click();
});


document.addEventListener("DOMContentLoaded", function() {
    var body = document.body;
    var footer = document.querySelector("footer");
    var mainContent = document.getElementById("main-content");

    // V√©rifie si le contenu est plus court que la hauteur de la fen√™tre
    if (mainContent.offsetHeight <= window.innerHeight) {
        footer.style.display = "block"; // Affiche le footer si le contenu est court
    }

    // Ajoute une classe pour masquer le footer si n√©cessaire
    if (mainContent.offsetHeight > window.innerHeight) {
        body.classList.add("hide-footer");
    }
});



document.addEventListener("DOMContentLoaded", function() {
    const buttons = document.querySelectorAll('.over-toggle-button');
    const sections = document.querySelectorAll('.over-section');

    buttons.forEach(button => {
        button.addEventListener('click', function() {
            const target = document.querySelector(this.dataset.target);

            sections.forEach(section => {
                if (section !== target) {
                    section.classList.add('over-hidden');
                    section.classList.remove('over-visible');
                }
            });

            target.classList.toggle('over-hidden');
            target.classList.toggle('over-visible');
        });
    });
});






document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.cheick-button').forEach(button => {
        button.addEventListener('click', function () {
            const type = this.dataset.type;
            let queryString = '';

            if (type === 'stage') {
                queryString = `?stage_type=${this.dataset.typeStage}&stage_domaine=${this.dataset.domaine}`;
            } else if (type === 'poste') {
                queryString = `?poste_occupe=${this.dataset.posteOccupe}&domaine=${this.dataset.domaine}`;
            } else if (type === 'mobilite') {
                queryString = `?mobilite_filiere=${this.dataset.filiere}&mobilite_ecole=${this.dataset.ecole}`;
            }

            window.location.href = `/search_profiles/${queryString}`;
        });
    });
});
    
    

        
    </script>


</body>


</html>
